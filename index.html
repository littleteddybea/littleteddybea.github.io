---
layout: default
---

<div class="home">
   <div class="top card">
        <!-- <p class="balance"></a> -->
        <p class="description">
            {% capture welcome_include %}{% include_relative welcome.md %}{% endcapture %}
            {{ welcome_include | markdownify }}
        </p>
    </div>

    <div class="posts card">
        <div class="card-content white-text">
            <span class="card-title">Posts</span>

            <ul class="post-list">
                {% for post in site.posts %}
                <li>
                    <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
                    <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
                </li>
                {% endfor %}
            </ul>

            <p class="rss-subscribe"><a href="{{ "/feed.xml" | prepend: site.baseurl }}">RSS Feed</a></p>
        </div>
    </div>

    <div class="posts card">
        <div class="card-content white-text">
            <span class="card-title">Spenden</span>

            <ul class="post-list">
                {% for post in site.posts %}
                <li>
                    <span class="post-meta">{{ post.date | date: "%b %-d, %Y" }}</span>
                    <a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

<div>
  <div id="count">
  <h4>Anzahl der Spender</h4>
  <button type="button" onclick="load_count()">Anzahl</button>
</div>

<div>
  <div id = "donations">
    <h4>Danke an:<h4/>
    <button type ="button" onclick="load_donations()">Spender</button>
</div>

<div>
  <div id="balance">
    <h4>aktueller Spendenbetrag</h4>
    <button type ="button" onclick="load_balance()">Betrag</button>
</div>

<script type="text/javascript">
  function load_donations() {
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function () {
      if (xhr.readystate == 4 && xhr.status == 200) {
        console.log(xhr.responseText);
      }
    };
    xhr.open("GET", "https://bedon.herokuapp.com/donations", true);
    xhr.send();
  }

  function load_balance() {
    var xhs = new XMLHttpRequest();
    xhs.onreadystatechange = function () {
      if (xhs.readystate == 4 && xhs.status == 200) {
        console.log(xhs.responseText);
      }
    };
    xhr.open ("GET", "https://bedon.herokuapp.com/balance", true);
    xhr.send ();
  }

  function load_count() {
    var xht = new XMLHttpRequest();
    xht.onreadystatechange = function () {
      if (xht.readystate == 4 && xht.status == 200) {
        console.log(xht.responseText);
      }
    };
    xht.open ("GET", "https://bedon.herokuapp.com/balance", true);
    xht.send ();
  }

#wieso in zeile 72 nicht gleich ;?
</script>
